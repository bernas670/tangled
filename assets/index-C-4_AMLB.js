(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const A=document.getElementById("theme-toggle");if(!A)throw new Error("Theme toggle button not found");localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark");function R(){document.body.classList.toggle("dark"),localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light")}A.addEventListener("click",R);var a=(r=>(r.Empty="empty",r.Correct="correct",r.Misplaced="misplaced",r.Absent="absent",r))(a||{}),d=(r=>(r.Row="row",r.Col="col",r))(d||{});const b=["MONEL","URINE","RASTA","ATTER","LEERY"].map(r=>r.split("")),u=5,L=()=>({misplaced:new Set,absent:new Set}),o={mode:d.Row,cursor:{row:0,col:0},grid:Array.from({length:u},()=>Array.from({length:u},()=>({letter:"",state:a.Empty}))),knowledge:{row:Array.from({length:u},L),col:Array.from({length:u},L)}},C=document.getElementById("grid"),g=[];for(let r=0;r<5;r++){const c=[];for(let s=0;s<5;s++){const n=document.createElement("div");n.className="cell",C?.appendChild(n),c.push(n)}g.push(c)}function k(){for(let e=0;e<u;e++)for(let t=0;t<u;t++){const l=g[e][t],i=o.grid[e][t];l.className="cell",l.textContent=i.letter??"",l.classList.add(i.state)}const{mode:r,cursor:{row:c,col:s}}=o;(r==="row"?g[c]:g.map(e=>e[s])).forEach(e=>e.classList.add("highlight")),g[c][s].classList.add("cursor")}window.addEventListener("keydown",r=>{if(r.key===" "&&(r.preventDefault(),o.mode=o.mode===d.Row?d.Col:d.Row),r.key==="ArrowUp"&&(o.cursor.row=(o.cursor.row+4)%5),r.key==="ArrowDown"&&(o.cursor.row=(o.cursor.row+1)%5),r.key==="ArrowLeft"&&(o.cursor.col=(o.cursor.col+4)%5),r.key==="ArrowRight"&&(o.cursor.col=(o.cursor.col+1)%5),r.key==="Backspace"){const{row:c,col:s}=o.cursor;if(o.grid[c][s].state===a.Correct)return;o.grid[o.cursor.row][o.cursor.col]={letter:"",state:a.Empty},o.mode==="row"?o.cursor.col=Math.max(o.cursor.col-1,0):o.cursor.row=Math.max(o.cursor.row-1,0)}if(/^[a-zA-Z]$/.test(r.key)){const{row:c,col:s}=o.cursor,n=o.grid[c][s];if(n.state===a.Correct)return;n.letter=r.key.toUpperCase(),o.mode===d.Row?o.cursor.col=Math.min(4,o.cursor.col+1):o.cursor.row=Math.min(4,o.cursor.row+1)}r.key==="Enter"&&M(),k()});const v=(r,c,s)=>{const n=c.reduce((t,l)=>l===r?++t:t,0);console.log(c,n);const e=s.reduce((t,l)=>l.letter===r&&l.state===a.Correct?++t:t,0);return console.log(s,e),n-e},I=(r,c,s)=>{if(r.map(i=>i.letter).length<u)return;const{mode:e,cursor:{row:t,col:l}}=s;r.forEach((i,m)=>{const f=e===d.Row?c[t][m]:c[m][l];i.letter===f&&(i.state=a.Correct),console.log(`correct ${i.letter} ${f}`)}),r.forEach((i,m)=>{if(i.state===a.Correct)return;const f=e===d.Row?t:m,p=e===d.Row?m:l,h=[...c[f],...c.map(w=>w[p])],y=[...s.grid[f],...s.grid.map(w=>w[p])],E=v(i.letter,h,y);console.log(i.letter,E,h,y),E>0&&(i.state=a.Misplaced)})};function M(){const{mode:r,grid:c,cursor:{row:s,col:n}}=o,e=r==="row"?c[s]:c.map(t=>t[n]);I(e,b,o),console.log(o)}k();
